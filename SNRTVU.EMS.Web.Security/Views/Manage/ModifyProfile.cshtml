@model ModifyProfileViewModel
@{
    ViewBag.Title = "修改个人资料";
}

@using (Ajax.BeginForm(new AjaxOptions { OnBegin = "begin", OnSuccess = "success" }))
{
    <div class="form-horizontal jumbotron">
        <div class="form-group">
            @Html.LabelFor(m => m.Account, new { @class = "control-label col-sm-2" })
            <div class="col-sm-10">
                @Html.TextBoxFor(m => m.Account, new { @class = "form-control", placeholder = "请输入登录账号" })
                @Html.ValidationMessageFor(m => m.Account, string.Empty, new { @class = "text-danger" })
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <button type="submit" class="btn btn-primary">提 交</button>
            </div>
        </div>
    </div>
}

@section scripts{
    @Scripts.Render("~/bundles/jqueryuno")
    <script type="text/javascript">
        var begin = function () {
            common.Loading("处理中...")
        }

        var success = function (data) {
            if (data) {
                if (data.result) {
                    common.Success(data.msg)
                    location = data.url;
                } else {
                    common.Error(data.msg)
                }
            }
        }
    </script>
}


